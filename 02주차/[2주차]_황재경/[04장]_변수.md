# 📒04장_ 변수
### 📑목차
- [변수(variable)와 식별자(identifier)](#📌변수variable와-식별자identifier)
- [변수 선언(declaration)과 할당(assignment)](#📌변수-선언declaration과-할당assignment)
- [변수 호이스팅(hoisting)](#📌변수-호이스팅hoisting)
- [값의 재할당](#📌값의-재할당)
- [식별자 네이밍 규칙과 네이밍 컨벤션(naming convention)](#📌식별자-네이밍-규칙과-네이밍-컨벤션naming-convention)

### ⚡Quick Summary
- 변수
    > 하나의 값을 저장하기 위한 메모리 공간을 식별하기 위한 이름
- 식별자
    > 메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름
- 변수 선언
    > 값을 저장할 메모리 공간을 할당하고 변수 이름과 메모리 주소를 연결해 변수를 생성하는 것 (`undefined`로 메모리 공간 초기화)
- 호이스팅
    > 선언문을 런타임 전에 실행해서 마치 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징

## 📌변수(variable)와 식별자(identifier)
컴퓨터는 **CPU**로 **연산**하고 **메모리**로 데이터를 **기억**한다. 이 때 1 byte의 memory cell 단위로 데이터를 읽고(read) 쓰며(write), 각 memory cell은 고유한 메모리 주소(memory address)를 가진다.
```jsx
            32 bit Architecture
  address   +-----------------+
0x00000000  |                 | low address
            +-----------------+
0x00000001  |                 |
            +-----------------+
    ⁝       |        ⁝         |
            +-----------------+
0x00001332  |                 | } memory cell
            +-----------------+
0x00001333  |      0x0A       |
            +-----------------+
    ⁝       |        ⁝         |
            +-----------------+
0x3245F4EF  |      0x14       |
            +-----------------+
    ⁝       |        ⁝         |
            +-----------------+
0xFFFFFFFF  |                 | high address
            +-----------------+

+) Memory Size = 32 bit * 1 byte = 4GB
```
값이 저장될 메모리 주소는 코드가 실행될 때 메모리의 상황에 따라 **임의로** 결정되고, 메모리 주소를 통해 메모리 공간에 직접 접근하는 것은 치명적 오류를 발생시킬 가능성이 높은 매우 위험한 일이다.

그래서 프로그래밍 언어는 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여 재사용하기 위해 "**변수**"라는 메커니즘을 제공한다.

- ⭐**변수(variable)**
    - **하나의 값**을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름
    - 값의 위치를 가리키는 상징적인 이름
- 변수명: 메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름
- 변수 값: 변수에 저장된 값
- **할당(assignment)**: 변수에 값을 저장하는 것
- **참조(reference)**: 변수에 저장된 값을 읽어 들이는 것

```jsx
                                +-----------------+
variableName ––––→  0x3245F4EF  |      0x14       |
                                +-----------------+
 identifier           address         memory
```
- 식별자(identifier): 메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름
    - 변수, 함수, 클래스 등의 이름
    - naming rule을 따라야 함
## 📌변수 선언(declaration)과 할당(assignment)
- 변수 선언(declaration)
    - 변수를 생성하는 것
        - 값을 저장하기 위한 메모리 공간 확보(allocate)
        - 변수 이름과 확보된 메모리 공간의 주소를 연결(naming binding)
    
    (메모리 공간이 해제(release)되기 전 까지 누구도 해당 메모리 공간 사용 불가능)
    - 변수 선언  키워드: `var`, `let`, `const`
    ```jsx
    var score;
    ```
- 값의 할당(assignment)
    - 할당 연산자 `=` 사용
    - 우변의 값을 좌변의 변수에 할당
    ```jsx
    score = 80;
    ```
- 특징
    - 변수 선언에 의해 확보된 메모리 공간에는 다른 프로그래밍 언어들과는 달리 쓰레기 값(garbage value)이 아닌 `undefined` 값이 암묵적으로 할당되어 초기화됨
    - 자바스크립트 엔진의 변수 선언 단계
        1. *선언 단계*: 변수 이름을 (실행 컨텍스트에) 등록해서 자바스크립트 엔진에 변수의 존재를 알림
        2. *초기화 단계*: 값을 저장하기 위한 메모리 공간을 확보하고 `undefined`로 초기화
    - 선언하지 않은 식별자에 접근하면 `ReferenceError` 발생
    - 변수 선언과 값의 할당을 하나의 문(statement)으로 단축 표현 가능
        ```jsx
        var score = 80;
        ```
        (자바스크립트 엔진은 변수 선언과 값의 할당을 단축 표현해도 2개의 문으로 나누어 각각 실행)
## 📌변수 호이스팅(hoisting)
자바스크립트 엔진은 한 줄씩 순차적으로 실행하기에 앞서 먼저 소스코드의 평가 과정을 거치면서 소스코드를 실행하기 위한 준비를 함
1. *소스코드 평가 과정*
    - 변수 선언을 포함한 모든 선언문을 찾아 **먼저 실행**
2. *소스코드 실행, **런타임(runtime)*** 🏃
    - 변수 선언을 포함한 모든 선언문을 **제외**하고 소스코드를 한 줄씩 순차적으로 실행

> ⭐변수 선언문이 **코드의 선두로 끌어 올려진 것처럼** 동작하는 자바스크립트 고유의 특징을 변수 호이스팅(variable hoisting)이라고 한다.

(변수 선언뿐 아니라 `var`, `let`, `const`, `function`, `function*`, `class` 키워드를 사용해 선언하는 모든 식별자가는 호이스팅됨)

<div style="display: flex; flex-direction: row; justify-content: space-between;">

```jsx
console.log(score);

var score;
score = 80;

console.log(score);
```
```jsx
console.log(score);

score = 80;
var score;

console.log(score);
```
```jsx
console.log(score);

var score = 80;

console.log(score);
```
</div>

- 위 3가지 예시들의 실행 결과는 모두 동일
    ```jsx
    undefined
    80
    ```
- ⭐변수 선언은 런타임 이전에 실행 → 값의 할당은 런타임에 실행
    ```jsx
            address   +-----------+                     +-----------+
          0x00000000  |           |         0x00000000  |           |
                      +-----------+                     +-----------+
              ⁝       |     ⁝      |             ⁝       |     ⁝      |
                      +-----------+                     +-----------+
    score 0x00001333  | undefined |         0x00001333  | undefined |
                      +-----------+                     +-----------+
              ⁝       |     ⁝      |             ⁝       |     ⁝      |
                      +-----------+                     +-----------+
                      |           |   score 0x3245F4EF  |   0x50    |
                      +-----------+                     +-----------+
                      |           |                     |           |
                      +-----------+                     +-----------+
          0xFFFFFFFF  |           |         0xFFFFFFFF  |           |
                      +-----------+                     +-----------+
                        변수 선언                          값의 할당
                        var score;                       score = 80;
    ```
## 📌값의 재할당
- 재할당
    - 이미 값이 할당되어 있는 변수에 새로운 값을 또다시 할당하는 것
    - 사실 `var` 키워드로 선언한 변수는 선언과 동시에 `undefined`로 초기화되기 때문에 변수에 처음으로 값을 할당하는 것도 재할당임
    - 재할당은 변수에 저장된 값을 다른 값으로 변경하기 때문에 "변"수라고 함
    - ⭐기존 값이 저장되어 있던 메모리 공간을 지우고 다시 재할당 값을 새롭게 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 재할당 값을 저장

- 상수(constant)
    - 값을 재할당할 수 없어서 변수에 저장된 값을 변경할 수 없는 경우 변수가 아니라 상수라고 함
    - 한번 정해지면 변하지 않는 값 (한 번만 할당 가능)
    - `const` 키워드

- 재할당 전의 값은 이제 아무 식별자와도 연결되어 있지 않음(필요하지 않음)

    ⇒ *가비지 콜렉터*에 의해 메모리에서 자동 해제(release)

- 가비지 콜렉터(garbage collector)🗑️
    - 애플리케이션이 할당한 메모리 공간을 주기적으로 검사하여 더 이상 사용되지 않는 메모리를 해제하는 기능
    - 자바스크립트는 개발자가 직접적으로 메모리 제어를 하지 않는 매니지드 언어(managed language)로서 내장하고 있는 가비지 콜렉터를 통해 메모리 누수(memory leak)를 방지

## 📌식별자 네이밍 규칙과 네이밍 컨벤션(naming convention)
- 네이밍 규칙
    - 특수문자를 제외한 문자, 숫자(0-9), `_`, `$` 포함 가능
        - ES5부터 유니코드 문자를 허용하지만 권장하지 않음
    - 숫자로 시작 불가능
    - (strict mode에서) [예약어](https://www.w3schools.com/js/js_reserved.asp)는 식별자로 사용 불가능

- ⭐네이밍 컨벤션(naming convention)
    - 변수, 함수 이름: 🐪`camelCase`
    - 생성자 함수, 클래스 이름: 🐫`PascalCase`
