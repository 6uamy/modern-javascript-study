# 배열

## 배열이란?

-   여러 개의 값을 순차적으로 나열한 자료구조다.
-   배열이 가지고 있는 값은 **요소**라고 부르고, 배열에서 요소의 위치를 **인덱스**라고 한다.
-   자바스크립트에 배열이라는 타입은 존재하지 않는다. 배열은 객체 타입이다.
-   배열은 객체지만, 일반 객체와 구별되는 독특한 특징이 있다.

|      구분       |           객체            |     배열      |
| :-------------: | :-----------------------: | :-----------: |
|      구조       | 프로퍼티 키와 프로퍼티 값 | 인덱스와 요소 |
|    값의 참조    |        프로퍼티 키        |    인덱스     |
|    값의 순서    |            ❌             |      ⭕️      |
| length 프로퍼티 |            ❌             |      ⭕️      |

-   일반 객체와 배열을 구분하는 가장 명확한 차이는 값의 순서와 length 프로퍼티다.
-   인덱스로 표현되는 값의 순서와 length 프로퍼티를 갖는 배열은 반복문을 통해 순차적으로 값에 접근하기 적합한 자료구조다.
-

## 일반적인 배열

-   자료구조에서 말하는 배열은 동일한 크기의 메모리 공간이 빈틈없이 연속적으로 나열된 자료구조를 말한다.
-   하나의 데이터 타입으로 통일되어 있으며 서로 연속적으로 인접해 있다. 이러한 배열을 **밀집 배열**이라 한다.

### 밀집 배열의 장단점

-   인덱스를 통해 효율적으로 요소에 접근할 수 있다.
-   하지만, 정렬되지 않은 배열에서 특정한 요소를 검색하는 경우 배열의 모든 요소를 처음부터 특정 요소를 발견할 때까지 차례대로 검색해야 한다.(선형 검색, 시간 복잡도 O(n))
-   배열에 요소를 삽입하거나 삭제하는 경우 배열의 요소를 연속적으로 유지하기 위해 요소를 이동시켜야 하는 단점도 있다.

## 자바스크립트 배열은 배열이 아니다.

-   자바스크립트의 배열은 일반적인 배열과 다르다.
-   배열의 요소를 위한 각각의 메모리 공간은 동일한 크기를 갖지 않아도 되며, 연속적으로 이어져 있지 않을 수도 있다.
-   배열의 요소가 연속적으로 이어져 있지 않는 배열을 **희소 배열**이라 한다.
-   즉, 자바스크립트의 배열은 일반적인 배열의 동작을 흉내 낸 특수한 객체다.

### 희소 배열의 장단점

-   해시 테이블로 구현된 객체이므로 인덱스로 요소에 접근하는 경우, 일반적인 배열보다 성능적인 면에서 느릴 수밖에 없다.
-   하지만, 요소를 삽입 또는 삭제하는 경우에는 일반적인 배열보다 빠르다.

## length 프로퍼티와 희소 배열

-   length 프로퍼티는 배열의 길이를 나타내는 0 이상의 정수를 값으로 갖는다.
-   length 프로퍼티의 값은 임으로 할당할 수 있는데, 현재 프로퍼티 값보다 작은 숫자 값을 할당하면 배열의 길이가 줄어든다.
-   하지만, 큰 숫자 값을 할당하면 length 프로퍼티 값은 변경되지만, 배열의 길이가 늘어나지는 않는다.
-   즉, 값 없이 비어 있는 요소를 위해 메모리 공간을 확보하지 않으며 빈 요소를 생성하지도 않는다.
-   이처럼 배열의 요소가 연속적으로 위치하지 않고 일부가 비어 있는 배열을 회소 배열이라 한다.
-   희소 배열은 length와 배열 요소의 개수가 일치하지 않는다.
-   희소 배열의 length는 희소 배열의 실제 요소 개수보다 언제나 크다.

## 배열 생성

### 배열 리터럴

```js
const arr = [1, 2, 3];
console.log(arr.length); //3

const arr1 = [1, , 3]; // 희소 배열
```

### Array 생성자 함수

```js
const arr = new Array(10); // 희소 배열

console.log(arr); // [empty * 10]
console.log(arr.length);
```

### Array.of

```js
// 전달된 인수가 1개이고 숫자이더라도 인수를 요소로 갖는 배열을 생성
Array.of(1); //[1]

Array.of(1, 2, 3); //[1, 2, 3]

Array.of('string'); //['string']
```

### Array.from

-   유사 배열 객체 또는 이터러블 객체를 인수로 전달받아 배열로 변환하여 반환한다.

```js
// 유사 배열 객체
Array.from({ length: 2, 0: 'a', 1: 'b' }); //['a', 'b']

// 이터러블을 변환하여 배열을 생성
Array.from('Hello'); // ['H', 'e', 'l', 'l', 'o']

// 유사 배열 객체에 length만 존재
Array.from({ length: 2 }); //[undefined, undefined]
```

## 배열 요소의 참조

-   대괄호([]) 표기법을 사용한다

```js
const arr = [1, 2];

console.log(arr[0]); // 1
console.log(arr[1]); // 2

// 존재하지 않는 요소에 대한 접근
console.log(arr[2]); // undefined
```

-   배열은 인덱스를 나타내는 문자열을 프로퍼티 키로 갖는 객체다.
-   따라서 존재하지 않는 프로퍼티 키로 객체의 프로퍼티에 접근했을 때 undefined를 반환하는 것과 같다

## 배열 요소의 추가와 갱신

-   존재하지 않는 인덱스를 사용해 값을 할당하면 새로운 요소가 추가된다. length 프로퍼티 값은 자동 갱신된다.
-   현재 배열의 length 프로퍼티 값보다 큰 인덱스로 새로운 요소를 추가하면 희소 배열이 된다.

## 배열 요소의 삭제

-   객체이기 때문에, delete 연산자를 사용할 수 있다.
-   그러나, delete 연산자를 이용해 프로퍼티를 삭제하면 배열은 희소 배열이 되며, length 프로퍼티 값은 변하지 않는다.
-   따라서 희소 배열을 만드는 delete 연산자는 사용하지 않는 것이 좋다.
-   희소 배열을 만들지 않으면서 배열의 특정 요소를 완전히 삭제하려면 Array.prototype.splice 메서드를 사용한다.
